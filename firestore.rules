rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // 開発環境用: 全てのアクセスを許可
    // 本番環境では必ず適切な認証ルールに変更してください
    match /{document=**} {
      allow read, write: if true;
    }
    
    // ブログ記事関連のルール（将来の本番環境用）
    match /blogPosts/{postId} {
      // 公開済み記事は誰でも読み取り可能
      allow read: if resource.data.status == 'published';
      // 管理者のみ作成・更新・削除可能
      allow write: if request.auth != null && request.auth.token.admin == true;
    }
    
    match /blogCategories/{categoryId} {
      // 誰でも読み取り可能
      allow read: if true;
      // 管理者のみ作成・更新・削除可能
      allow write: if request.auth != null && request.auth.token.admin == true;
    }
    
    match /blogTags/{tagId} {
      // 誰でも読み取り可能
      allow read: if true;
      // 管理者のみ作成・更新・削除可能
      allow write: if request.auth != null && request.auth.token.admin == true;
    }
  }
}
